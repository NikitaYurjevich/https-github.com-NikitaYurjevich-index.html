const clipBtn=document.getElementById("clipBtn"),smokeSlide=document.getElementById("smokeSlide"),titleContainerNoSmoke=document.getElementById("titleNoSmoke"),titleContainerSmoke=document.getElementById("titleSmoke"),slideNoSmokeBg=document.getElementById("slideNoSmokeBg"),postBanner=document.getElementById("postBanner"),animateSunrise=()=>{let e=0;slideNoSmokeBg.classList.add("slide--no-smoke__background-shift");let t=setInterval(()=>{e>=20?(clearInterval(t),setTimeout(()=>{postBanner.classList.add("postBanner--visible")},1e3)):(slideNoSmokeBg.style.background=`radial-gradient(circle at center, #FDEB00FF 0, #0dffe7 ${30+2*e}%,#0dffe7, #0dffe7 100%) top`,e++)},70)},SMOKE_SLIDE_LEFT_X=20,SMOKE_SLIDE_RIGHT_X=20+smokeSlide.clientWidth+10,smokeSlideMiddle=(SMOKE_SLIDE_RIGHT_X-20)/2;smokeSlide.style.clip=`rect(auto, ${smokeSlideMiddle}px, auto, auto)`;let NO_SMOKE_SLIDE_OPENED=!1,SMOKE_SLIDE_OPENED=!1;const flashlight=document.getElementById("flashlight"),redSignal=document.getElementById("redSignal").getBoundingClientRect();flashlight.style.width=`${redSignal.width-10}px`,flashlight.style.left=`${redSignal.left+5}px`,flashlight.style.top=`${redSignal.bottom-flashlight.clientHeight-redSignal.height/4}px`,document.onload=()=>{postBanner.classList.remove("postBanner--visible")};const onClip=e=>{let t=e.clientX??e.touches[0].clientX;t>40&&t<SMOKE_SLIDE_RIGHT_X-10&&(clipBtn.style.left=`${t-45}px`,smokeSlide.style.clip=`rect(auto, ${t-30}px, auto, auto)`);let l=document.body.clientWidth/2,i=t>l,n=t<l;!NO_SMOKE_SLIDE_OPENED&&n&&(animateSunrise(),NO_SMOKE_SLIDE_OPENED=!0,titleContainerNoSmoke.style.opacity="1"),!SMOKE_SLIDE_OPENED&&i&&(SMOKE_SLIDE_OPENED=!0,titleContainerSmoke.style.opacity="1"),t>=1.7*l&&postBanner.classList.add("postBanner--visible")};clipBtn.addEventListener("mousedown",()=>{window.addEventListener("mousemove",onClip)}),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",onClip)}),clipBtn.addEventListener("touchstart",()=>{window.addEventListener("touchmove",onClip)}),window.addEventListener("touchend",()=>{window.removeEventListener("touchmove",onClip)});
